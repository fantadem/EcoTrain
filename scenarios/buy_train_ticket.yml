- name: Acheter un billet de train
  url: http://localhost/
  waitForSelector: 'select[name="departureStation"]'

  actions:
    - name: Choisir gare de départ
      type: select
      element: 'select[name="departureStation"]'
      values: ['Paris']

    - name: Choisir gare d’arrivée
      type: select
      element: 'select[name="arrivalStation"]'
      values: ['Troyes']

    # ON NE REMPLIT PAS LA DATE (picker auto)
    # ON NE REMPLIT PAS LE SELECT HEURE (DOM ne contient pas name="time")
    # On clique simplement sur "Rechercher un trajet"

    - name: Rechercher un trajet
      type: click
      element: 'button[type="submit"]'
      pageChange: true
      waitForSelector: 'article'

    - name: Scroll résultats
      type: scroll

    - name: Choisir le premier trajet
      type: click
      element: 'article:nth-child(1) button'
      pageChange: true
      waitForSelector: 'main'

    - name: Accéder au panier
      type: click
      element: 'a[href="/cart"]'
      pageChange: true
      waitForSelector: 'button'

    - name: Payer
      type: click
      element: 'button'
      pageChange: false
