# Scenario GreenIT Analysis – version corrigée 100 % compatible React + Nginx
- name: Acheter un billet de train
  url: http://localhost/
  waitForSelector: 'select[name="departureStation"]'

  actions:

    - name: Choisir la gare de départ
      type: select
      element: 'select[name="departureStation"]'
      values: ['Paris']

    - name: Choisir la gare d’arrivée
      type: select
      element: 'select[name="arrivalStation"]'
      values: ['Troyes']

    - name: Lancer la recherche
      type: click
      element: 'button[type="submit"]'
      pageChange: false
      waitForSelector: 'article'   # <= tout trajet est un <article>

    - name: Scroller la liste des trajets
      type: scroll
      element: 'body'

    - name: Sélectionner le 3e trajet
      type: click
      element: 'article:nth-child(3) button.outline'
      pageChange: false
      waitForSelector: '.trip-details'

    - name: Ouvrir les détails du trajet
      type: click
      element: '.trip-details button'
      pageChange: false
      waitForSelector: '.pay-button'

    - name: Accéder au paiement
      type: click
      element: '.pay-button'
      pageChange: false
