# Scénario complet EcoTrain - Compatible DOM vidéo
- name: Acheter un billet de train
  url: http://localhost/
  waitForSelector: 'select[name="departureStation"]'

  actions:

    - name: Choisir gare de départ
      type: select
      element: 'select[name="departureStation"]'
      values: ['Paris']

    - name: Choisir gare d'arrivée
      type: select
      element: 'select[name="arrivalStation"]'
      values: ['Troyes']

    - name: Choisir date
      type: input
      element: 'input[type="date"]'
      value: '2025-01-01'

    - name: Choisir heure
      type: select
      element: 'select[name="time"]'
      values: ['00h']

    - name: Rechercher un trajet
      type: click
      element: 'button[type="submit"]'
      pageChange: true
      waitForSelector: 'article'   # maintenant correct car articles visibles

    - name: Scroll résultats
      type: scroll

    - name: Sélectionner un trajet
      type: click
      element: 'article:nth-child(1) button'   # le bouton "Ajouter ce billet"
      pageChange: true
      waitForSelector: 'main'

    - name: Accéder au panier
      type: click
      element: 'a[href="/cart"]'
      pageChange: true
      waitForSelector: 'button'

    - name: Payer
      type: click
      element: 'button'
      pageChange: false
